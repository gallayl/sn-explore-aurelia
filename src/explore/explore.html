<template>
    <require from='./explore.scss'></require>
    <require from='./add-content'></require>
    <require from='./delete-content'></require>
    <section class="au-animate">
        <div class='explore-wrapper row' resizeable resize.trigger="resize($event.detail)">
            <nav class="mdc-permanent-drawer" if.bind="IsDrawerOpened">
                <div class="mdc-permanent-drawer__toolbar-spacer">
                    <span class="mdc-typography--headline">Explore</span>
                </div>
                <div class="mdc-permanent-drawer__content">
                    <tree content.bind="RootContent" selection.two-way='Scope'></tree>
                </div>
            </nav>

            <main style="width: 100%;">
                <header class="mdc-toolbar">
                    <div class="mdc-toolbar__row">
                        <section class="mdc-toolbar__section mdc-toolbar__section--align-start" style="padding-left: 1em;">
                            <breadcrumbs selection.two-way="Scope" path-change.call="changePath(path)" class="mdc-typography--button"></breadcrumbs>
                        </section>                        

                        <section class="mdc-toolbar__section mdc-toolbar__section--align-end">
                            <a click.delegate="toggleExploreDrawer()" class="material-icons mdc-toolbar__icon--menu">menu</a>
                            <a click.delegate="setViewType('List')" class="material-icons mdc-toolbar__icon--menu">list</a>
                            <a click.delegate="setViewType('Details')" class="material-icons mdc-toolbar__icon--menu">view_module</a>
                        </section>
                    </div>
                </header>

                <div class="content-wrapper col xl10 l8 m8 s12">
                    <content-list scope.bind="Scope" 
                            get-items.call="GetSelectedChildren(scope, query)" 
                            on-activate.call="Select(content)" 
                            view-type.bind="ViewType"
                            actions.bind="exploreActions"></content-list>
                </div>
            </main>

        <add-content view-model.ref="addContentComponent" parent.bind="Scope"></add-content>
        <delete-content view-model.ref="deleteContentComponent" content.bind="contentToDelete"></delete-content>

        <compose view="./explore-fab.html"></compose>
        <compose view="./explore-edit.html"></compose>
        

    </section>
</template>